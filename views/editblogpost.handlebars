<!-- editBlogPost.handlebars -->
<h2>Edit Blog Post</h2>

<form action="/dashboard/post/{{post.id}}?_method=PUT" method="POST">
  <div class="form-group">
    <label for="title">Title</label>
    <input type="text" id="title" name="title" value="{{post.title}}" required>
  </div>
  <div class="form-group">
    <label for="content">Content</label>
    <textarea id="content" name="content" required>{{post.content}}</textarea>
  </div>
  <div class="form-group">
    <button type="submit">Update</button>
    <button type="button" id="delete-post-btn">Delete</button>
  </div>
</form>

<script>
  const deletePostBtn = document.getElementById('delete-post-btn');
  deletePostBtn.addEventListener('click', () => {
    if (confirm('Are you sure you want to delete this post?')) {
      // Send a DELETE request to the server
      fetch(`/dashboard/post/{{post.id}}`, { method: 'DELETE' })
        .then(() => {
          // Redirect to the dashboard after successful deletion
          window.location.href = '/dashboard';
        })
        .catch((error) => {
          console.error('Error deleting post:', error);
        });
    }
  });
</script>
